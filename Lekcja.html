
<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>P-Librus: Rejestr Lekcji</title>
  <style>
  body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #e6ebed, #f5f7f9);
      margin: 0;
      padding: 0;
    }
    .header {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      background: linear-gradient(to right, #d4dce4, #f2f3f5);
    }
    .logo {
      display: flex;
      align-items: center;
      margin-right: auto;
    }
    .logo img {
      height: 40px;
      margin-right: 10px;
    }
    .logo span {
      font-size: 24px;
      color: #8a2e6e;
      font-weight: bold;
    }
    .user-info {
      margin-right: 20px;
      font-size: 14px;
    }
    .menu {
      display: flex;
      justify-content: center;
      padding: 10px;
      background-color: #edf0f3;
      flex-wrap: wrap;
    }
    .menu-item {
      text-align: center;
      margin: 10px;
      position: relative;
    }
    .menu-item a {
      font-size: 14px;
      display: block;
      padding: 10px 15px;
      background-color: #ffffff;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-shadow: 1px 1px 5px rgba(0,0,0,0.1);
      text-decoration: none;
      color: black;
      transition: background-color 0.3s;
    }
    .menu-item a:hover {
      background-color: #f0f0f0;
    }
    .badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: red;
      color: white;
      font-size: 10px;
      padding: 2px 5px;
      border-radius: 50%;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #dfe9f3, #ffffff);
      padding: 40px;
      color: #333;
    }
    .lesson-box, .history-box {
      background: #ffffff;
      padding: 30px;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .dzial-option {
      background-color: #000;
      color: #fff;
      font-weight: bold;
    }
    h2 {
      color: #2a6f97;
    }
    label {
      font-weight: 600;
      display: block;
      margin-top: 15px;
      color: #34495e;
    }
    select, textarea, input[type="date"], button {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 14px;
    }
    button {
      background: #2a6f97;
      color: white;
      border: none;
      border-radius: 7px;
      cursor: pointer;
      margin-top: 20px;
      font-weight: bold;
      transition: background 0.3s;
    }
    button:hover {
      background: #1b4965;
    }
    ul {
      padding-left: 25px;
    }
    .frekwencja-wrapper {
      margin-bottom: 15px;
      padding: 10px;
      background: #f0f8ff;
      border-radius: 8px;
    }
    .frekwencja-wrapper label {
      font-weight: 500;
      margin-bottom: 5px;
    }
    .frekwencja-wrapper span {
      margin-right: 10px;
    }
  </style>
</head>
<body>
<script type="module">
  // Importy z Firebase CDN
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

  const firebaseConfig = {
    // twoja konfiguracja
  };// Your web app's Firebase configuration (wklej tutaj swój config)
  const firebaseConfig = {
  apiKey: "AIzaSyDlSm_Cg8Pz0rPsExKro958vjRDUD_i95Y",
  authDomain: "p-librus.firebaseapp.com",
  projectId: "p-librus",
  storageBucket: "p-librus.firebasestorage.app",
  messagingSenderId: "1018564561209",
  appId: "1:1018564561209:web:14fc2df790ca838837c0e8"
};

 

  // teraz możesz używać db, np. dodawanie i pobieranie dokumentów
</script>
<div class="header">
  <div class="logo">
    <img src="21 maj 2025, 16_13_32.png" alt="P-Librus logo">
    <span>P-Librus</span>
  </div>
  <div class="user-info">
    Jesteś zalogowany jako: <strong>Piotr Rejmentowski (nauczyciel)</strong>
  </div>
  <select>
    <option selected>polski</option>
    <option>english</option>
  </select>
</div>

<div class="menu">
  <div class="menu-item">
    <a href="indywidualni.html">Indywidualni</a>
  </div>
  <div class="menu-item">
    <a href="Lekcja.html">Lekcja</a>
  </div>
  <div class="menu-item">
    <a href="oceny.html">Oceny</a>
    <div class="badge">5</div>
  </div>
  <div class="menu-item">
    <a href="organizacja.html">Organizacja</a>
    <div class="badge">3</div>
  </div>
  <div class="menu-item">
    <a href="wiadomosci.html">Wiadomości</a>
  </div>
  <div class="menu-item">
    <a href="ogloszenia.html">Ogłoszenia</a>
    <div class="badge">1</div>
  </div>
  <div class="menu-item">
    <a href="terminarz.html">Terminarz</a>
    <div class="badge">6</div>
  </div>
</div>
<div class="lesson-box">
  <h2>Dodaj lekcję</h2>
  <label for="klasa-select">Wybierz klasę:</label>
  <select id="klasa-select">
    <option value="6A">6A</option>
    <option value="6B">6B</option>
    <option value="6C">6C</option>
    <option value="7D">7D</option>
    <option value="7E">7E</option>
    <option value="8F">8F</option>
    <option value="8G">8G</option>
    <option value="1H">1H</option>
	<option value="6A-Biologia">6A Biologia</option>
	<option value="4I-Przyroda">4I Przyroda</option>
  </select>
  <label for="przedmiot-select">Przedmiot:</label>
  <select id="przedmiot-select">
    <option value="biologia">Biologia</option>
    <option value="jezyk piotrowski">Język Piotrowski</option>
    <option value="geografia">Geografia</option>
    <option value="fizyka">Fizyka</option>
    <option value="jezyk angielski">Język angielski</option>
	<option value="przyroda">Przyroda</option>
    <option value="inny">Inny</option>
  </select>

  <label for="data">Data:</label>
  <input type="date" id="data" />
  
  <br><br>
  <div class="lesson-box">
  <h2>Postęp realizacji materiału</h2>
  <div id="postep-box"></div>
</div>

<script>
function pokazPostep(klasa) {
  const box = document.getElementById("postep-box");
  box.innerHTML = "";

  const wszystkieTematy = tematy[klasa] || [];
  const klucz = `lekcje_${klasa}`;
  const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];

  const zrealizowaneTematy = new Set(lekcje.map(l => l.temat));

  const liczbaZrealizowanych = wszystkieTematy.filter(t => zrealizowaneTematy.has(t)).length;
  const liczbaWszystkich = wszystkieTematy.length;
  const procent = liczbaWszystkich ? Math.round((liczbaZrealizowanych / liczbaWszystkich) * 100) : 0;

  box.innerHTML = `
    <p>Zrealizowano <strong>${liczbaZrealizowanych}</strong> z <strong>${liczbaWszystkich}</strong> tematów (${procent}%)</p>
    <div style="background: #eee; border-radius: 10px; overflow: hidden; height: 20px;">
      <div style="width: ${procent}%; background: #2a6f97; height: 100%; color: white; text-align: center; font-size: 12px;">
        ${procent}%
      </div>
    </div>
  `;
}
function pokazPostep(klasa) {
  const box = document.getElementById("postep-box");
  box.innerHTML = "";

  const wszystkieTematy = (tematy[klasa] || []).filter(t =>
    !t.startsWith("DZIAŁ") && t.trim() !== ""
  );

  const klucz = `lekcje_${klasa}`;
  const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];

  // Zbieramy tematy, ale je czyścimy z białych znaków
  const zrealizowaneTematy = new Set(
    lekcje
      .map(l => l.temat?.trim())
      .filter(Boolean) // usuwa np. undefined lub puste
  );

  const liczbaZrealizowanych = wszystkieTematy.filter(t =>
    zrealizowaneTematy.has(t.trim())
  ).length;

  const liczbaWszystkich = wszystkieTematy.length;
  const procent = liczbaWszystkich
    ? Math.round((liczbaZrealizowanych / liczbaWszystkich) * 100)
    : 0;

  box.innerHTML = `
    <p>Zrealizowano <strong>${liczbaZrealizowanych}</strong> z <strong>${liczbaWszystkich}</strong> tematów (${procent}%)</p>
    <div style="background: #eee; border-radius: 10px; overflow: hidden; height: 20px;">
      <div style="width: ${procent}%; background: #2a6f97; height: 100%; color: white; text-align: center; font-size: 12px;">
        ${procent}%
      </div>
    </div>
  `;
}



</script>
  
  

  <label for="temat-select">Temat lekcji:</label>
  <select id="temat-select"></select>
  
  <label for="nowy-temat">Dodaj własny temat lekcji:</label>
<textarea id="opis" rows="3"></textarea>
<button type="button" onclick="dodajWlasnyTemat()">Dodaj temat</button>

<label for="opis">Dodatkowe notatki:</label>
<textarea id="opis" rows="3"></textarea>

  <label>Frekwencja uczniów:</label>
<button type="button" onclick="zaznaczWszystkichObecnosc()" style="margin-bottom: 10px;">Zaznacz wszystkich jako Obecność</button>
<div id="frekwencja-box"></div>

  <button onclick="zapiszLekcje()">Zapisz lekcję</button>
</div>

<div class="history-box">
  <h2>Historia lekcji</h2>
  <ul id="historia-lekcji"></ul>
</div>

<script>
  const uczniowie = {
    '6A': ['Agata', 'Tadeusz', 'Piotr'],
    '6B': ['Gosia', 'Grzesiek', 'Agnieszka', 'Adam'],
    '6C': ['Wiesia', 'Alina', 'Bożena', 'Halinka'],
    '7D': ['Mirek', 'Ela', 'Ula'],
    '7E': ['Ola', 'Maria', 'Marta'],
    '8F': ['Ola', 'Julia', 'Natan', 'Filip'],
    '8G': ['Jagoda', 'Szymon', 'Antek', 'Lena'],
    '1H': ['Andrzej', 'Maciej', 'Patryk'],
	'6A-Biologia': ['Agata', 'Tadeusz', 'Piotr'],
	'4I-Przyroda': ['Zuzia', 'Kasia', 'Maja']
  };
  

  const tematy = {
    "6A": ["Inne", "Kolory i pomieszczenia", "Alfabet i znaki piotrowskie", "Liczby","Daty", "Gramatyka piotrowska","Past simple - Wprowadzenie","Past simple - Ogólność i Upodobania","Past simple - Regularność i czas","Past simple - Osobowość i jej opis",  "Zaimki osobowe - Wprowadzenie","Present Simple - Wprowadzenie","Powtórzenie do egzaminu 1", "Powtórzenie do egzaminu 2", "Egzamin szóstoklasisty"],
      "6B": ["Inne", "Alfabet","Pomieszczenia","Liczby","Daty","Kolory", "Past simple - Wprowadzenie","Past simple - Upodobania","Past simple - Regularność","Past simple - Osobowość", "Zaimki osobowe", "Powtórzenie wiadomości","Sprawdzian", "Omówienie sprawdzianu"],
      "6C": ["Inne", "Alfabet","Pomieszczenia","Liczby","Daty","Kolory", "Past simple - Wprowadzenie","Past simple - Upodobania","Past simple - Regularność","Past simple - Osobowość", "Zaimki osobowe", "Powtórzenie wiadomości","Sprawdzian", "Omówienie sprawdzianu"],
      "7D": ["Inne", "DZIAŁ 1 - CZŁOWIEK","Cechy charakteru","Ubrania","Wygląd zewnętrzny","Etapy życia","Przedmioty osobiste","Past simple","Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)","DZIAŁ 2 - ZDROWIE","Choroby i bóle","Present simple","Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)","DZIAŁ 3 - ŻYCIE PRYWATNE", "Rodzina i znajomi", "Czas wolny i święta", "Past simple i Present simple - Porównanie", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)","DZIAŁ 4 - ŚWIAT I PRZYRODA", "Kraje i kontynenty","Przyroda i zwierzęta", "Zegary, Czas i ich odczytywanie","Present Cintus", "Powtórzenie wiadomości (4)","Sprawdzian (4)","Omówienie sprawdzianu (4)"],
      "7E": ["Inne", "DZIAŁ 1 - CZŁOWIEK","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)", "DZIAŁ 2 - ZDROWIE","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)", "DZIAŁ 3 - ŻYCIE PRYWATNE","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)", "DZIAŁ 4 - ŚWIAT I PRZYRODA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (4)","Sprawdzian (4)","Omówienie sprawdzianu (4)"],
      "8F": ["Inne", "DZIAŁ 1 - MIEJSCE ZAMIESZKANIA","Rodzaje miejsc zamieszkania","Meble","Na zewnątrz","Określenia domów i pomieszczenia","Present simple","Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)","DZIAŁ 2 - EDUKACJA","Przedmioty fizyczne","Przedmioty lekcyjne","Pracownicy i pomieszczenia w szkole","Czasowniki szkolne","Present hadsing","Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)","DZIAŁ 3 - PRACA", "Zawody", "Odmiana zawodów przez osoby","Miejsca prac","Present past","Zaimki osobowe", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)"],
      "8G": ["Inne", "DZIAŁ 1 - MIEJSCE ZAMIESZKANIA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)", "DZIAŁ 2 - EDUKACJA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)", "DZIAŁ 3 - PRACA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)"],
	  "1H": ["Inne", "DZIAŁ 1 - SPORT","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)", "DZIAŁ 2 - KULTURA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)", "DZIAŁ 3 - TRANSPORT I TURYSTYKA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)"],
	  "6A-Biologia": ["Inne", "DZIAŁ 1 - Świat zwierząt","W królestwie zwierząt", "Tkanki : Nabłonkowa, mięśniowa i nerwowa", "Tkanka Łączna", "Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)", "DZIAŁ 2 - Od parzydełkowców do pierścienic","Parzydełkowce - najprostrze zwierzęta tkankowe", "Płazińce - zwierzęta, które mają płaskie ciało", "Nicienie - zwierzęta, które mają nitkowate ciało","Pierścienice - zwierzęta które mają segemntowane ciało", "Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)", "DZIAŁ 3 - Stawonogi i mięczaki","Cechy stawonogów", "Skorupiaki - stawonogi, które mają twardy pancerz", "Owady - stawonogi zdolne do lotu","Pajęczaki - stawonogi, które mają czety pary odnóży","Mięczaki - zwierzęta które mają muszlę", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)","DZIAŁ 4 - Kręgowce zmiennocieplne","Ryby - Kręgowce środowisk wodnych", "Przegląd i znaczenie ryb", "Płazy - Kręgowce wodno-lądowe","Przegląd i znaczenie płazów","Gady - Kręgowce, które opanowały ląd","Przegląd i znaczenie gadów", "Powtórzenie wiadomości (4)","Sprawdzian (4)","Omówienie sprawdzianu (4)", "DZIAŁ 5 - Kręgowce stałocieplne","Ptaki - Kręgowce zdolne do lotu", "Przegląd i znaczenie ptaków", "Ssaki - kręgowce, które karmią młode mlekiem","Przegląd i znaczenie ssaków", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)"],
      "4I-Przyroda": ["Inne", "DZIAŁ 1 - Poznajemy warsztat przyrodnika","Przyroda i jej składniki", "Jak poznawać przyrodę?", "Przyrządy i pomoce przyrodnika","Określamy kierunki geograficzne","Co pokazujemy na planach?","Jak czytamy plany i mapy?","Jak się orientować w terenie?", "Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)", "DZIAŁ 2 - Poznajemy pogodę i inne zjawiska przyrodnicze","Substancje wokół nas", "Woda występuje w trzech stanach skupienia", "Składniki pogody","Obserwujemy pogodę",",,Wędrówka'' słońca po niebie", "Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)", "DZIAŁ 3 - Poznajemy świat organizmów", "Organizmy mają wspólne cechy", "Organizmy różnią się sposobem odżywiania", " Zależności pokarmowe między organizmami","Rośliny i zwierzęta wokół nas", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)", "DZIAŁ 4 - Odkrywamy tajemnice ciała człowieka","Trawienie i wchłanianie pokarmu", "Układ krwionośny transportuje krew", "Układ oddechowy zapewnia wymianę gazową","Szkielet i mięsnie zapewniają ruch","Układ nerwowy kontroluje pracę organizmu","Układ rozrodczy umożliwia wydawanie na świat potomstwa", "Powtórzenie wiadomości (4)","Sprawdzian (4)","Omówienie sprawdzianu (4)","DZIAŁ 5 - Odkrywamy tajemnice zdrowia","Zdrowy styl życia", "Choroby, którymi można się zarazić", "Jak sobie radzić w niebezpiecznych sytuacjach","Uzależnienia są groźne", "Powtórzenie wiadomości (5)","Sprawdzian (5)","Omówienie sprawdzianu (5)", "DZIAŁ 6 - Poznajemy krajobraz najbliższej okolicy","Co to jest krajobraz?", "Ukształtowanie terenu", "Czy wszystkie skały są twarde?","Wody słodkie i słone","Krajobraz wczoraj i dziś", "Obszary i obiekty chronione", "Powtórzenie wiadomości (6)","Sprawdzian (6)","Omówienie sprawdzianu (6)", "DZIAŁ 7 - Odkrywamy tajemnice życia w wodzie i na lądzie","Warunki życia w wodzie", "Z biegiem rzeki", "Życie w jeziorze","Warunki życia na lądzie","Las ma budowę warstwową", "Jakie drzewa rosną w lesie?", "Na łące", "Na polu uprawnym", "Powtórzenie wiadomości (7)","Sprawdzian (7)","Omówienie sprawdzianu (7)"]
 

	};

  const klasaSelect = document.getElementById("klasa-select");
  const tematSelect = document.getElementById("temat-select");

  function updateTematy() {
  tematSelect.innerHTML = "";
  const klasa = klasaSelect.value;
  if (tematy[klasa]) {
    tematy[klasa].forEach(t => {
      const option = document.createElement("option");
      option.value = t;
      option.textContent = t;

      if (t.startsWith("DZIAŁ")) {
        option.classList.add("dzial-option");
      }

      const tLower = t.toLowerCase();
      if (
        tLower.includes("powtórzenie wiadomości") ||
        tLower.includes("sprawdzian") ||
        tLower.includes("omówienie sprawdzianu") ||
		tLower.includes("powtórzenie do egzaminu 1") ||
		tLower.includes("powtórzenie do egzaminu 2") ||
		tLower.includes("egzamin szóstoklasisty") 
      ) {
        option.style.backgroundColor = "#ccffcc"; // jasno-limonkowo-zielony
      }

      tematSelect.appendChild(option);
    });
  }
}

  function pokazFrekwencje(klasa) {
    const kontener = document.getElementById("frekwencja-box");
    kontener.innerHTML = "";

    if (!uczniowie[klasa]) return;

    uczniowie[klasa].forEach((uczen, index) => {
      const wrapper = document.createElement("div");
      wrapper.className = "frekwencja-wrapper";

      const label = document.createElement("label");
      label.textContent = uczen;
      wrapper.appendChild(label);

      ["Obecność", "Spóźnienie", "Nieobecność nieusprawiedliwiona", "Nieobecność usprawiedliwiona", "Zwolnienie", "Rekolekcje", "Egzamin"].forEach(opcja => {
        const radio = document.createElement("input");
        radio.type = "radio";
        radio.name = `frekwencja_${index}`;
        radio.value = opcja;

        const span = document.createElement("span");
        span.textContent = opcja;

        wrapper.appendChild(radio);
        wrapper.appendChild(span);
      });

      kontener.appendChild(wrapper);
    });
  }

  function zapiszLekcje() {
    const data = document.getElementById("data").value;
    const klasa = klasaSelect.value;
    const temat = tematSelect.value;
    const opis = document.getElementById("opis").value;

    if (!data || !temat) {
      alert("Uzupełnij wszystkie dane.");
      return;
    }

    const frekwencja = [];
    if (uczniowie[klasa]) {
      uczniowie[klasa].forEach((uczen, index) => {
        const zaznaczona = document.querySelector(`input[name="frekwencja_${index}"]:checked`);
        frekwencja.push({ uczen, status: zaznaczona ? zaznaczona.value : "Brak danych" });
      });
    }

    const nowaLekcja = { data, klasa, temat, opis, frekwencja };
    const klucz = `lekcje_${klasa}`;
    const istniejace = JSON.parse(localStorage.getItem(klucz)) || [];
    istniejace.push(nowaLekcja);
    localStorage.setItem(klucz, JSON.stringify(istniejace));
    pokazHistorieLekcji(klasa);
    document.getElementById("data").value = "";
    document.getElementById("opis").value = "";
    updateTematy();
    pokazFrekwencje(klasa);
  }

  function pokazHistorieLekcji(klasa) {
    const ul = document.getElementById("historia-lekcji");
    ul.innerHTML = "";
    const klucz = `lekcje_${klasa}`;
    const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];

    lekcje.forEach(lekcja => {
      const li = document.createElement("li");
      li.innerHTML = `<strong>${lekcja.data}:</strong> ${lekcja.temat}<br>${lekcja.opis || ""}`;
      if (lekcja.frekwencja && lekcja.frekwencja.length) {
        li.innerHTML += `<br><strong>Frekwencja:</strong><ul>${
          lekcja.frekwencja.map(f => `<li>${f.uczen}: ${f.status}</li>`).join("")
        }</ul>`;
      }
      ul.appendChild(li);
    });
  }

  klasaSelect.addEventListener("change", () => {
    updateTematy();
    pokazFrekwencje(klasaSelect.value);
    pokazHistorieLekcji(klasaSelect.value);
	pokazPostep(klasaSelect.value);
  });

  document.addEventListener("DOMContentLoaded", () => {
  updateTematy();
  pokazFrekwencje(klasaSelect.value);
  pokazHistorieLekcji(klasaSelect.value);
  pokazPostep(klasaSelect.value); // ← TO DODAJ
});

  function zaznaczWszystkichObecnosc() {
  const kontener = document.getElementById("frekwencja-box");
  const radios = kontener.querySelectorAll('input[type="radio"]');

  radios.forEach(radio => {
    if (radio.value === "Obecność") {
      radio.checked = true;
    }
  });
}

</script>
<!-- Firebase App (core SDK) -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
<!-- Firebase Firestore -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js"></script>
<script>
  // Tu wklejasz swój JavaScript

  // Przykład: selektory elementów
  const klasaSelect = document.getElementById("klasa-select");  // Twój select z klasami
  const tematSelect = document.getElementById("temat-select");  // Select z tematami

  // Obiekt z tematami — przykładowa struktura
  const tematy = {
    "1a": ["Matematyka", "Polski"],
    "2b": ["Biologia", "Historia"]
  };

  function aktualizujTematy() {
    const klasa = klasaSelect.value;
    const listaTematow = tematy[klasa] || [];

    tematSelect.innerHTML = ""; // wyczyść

    listaTematow.forEach((temat) => {
      const option = document.createElement("option");
      option.value = temat;
      option.textContent = temat;
      tematSelect.appendChild(option);
    });
  }

  function dodajWlasnyTemat() {
    const nowyTematInput = document.getElementById("nowy-temat");
    const nowyTemat = nowyTematInput.value.trim();

    if (nowyTemat === "") {
      alert("Proszę wpisać temat.");
      return;
    }

    const klasa = klasaSelect.value;

    if (!tematy[klasa]) {
      tematy[klasa] = [];
    }
    tematy[klasa].push(nowyTemat);

    aktualizujTematy();

    nowyTematInput.value = "";
    tematSelect.value = nowyTemat;
  }

  // Aktualizuj tematy po zmianie klasy
  klasaSelect.addEventListener("change", aktualizujTematy);

  // Inicjalizacja tematu przy starcie
  aktualizujTematy();

</script>


</body>
</html>
