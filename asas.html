<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>P-Librus - Lekcja</title>
  <style>
    /* Styl jak wcześniej, zostaje bez zmian (można zostawić z Twojego kodu) */
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #e6ebed, #f5f7f9);
      margin: 0;
      padding: 0;
    }
    .header {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      background: linear-gradient(to right, #d4dce4, #f2f3f5);
    }
    .logo {
      display: flex;
      align-items: center;
      margin-right: auto;
    }
    .logo img {
      height: 40px;
      margin-right: 10px;
    }
    .logo span {
      font-size: 24px;
      color: #8a2e6e;
      font-weight: bold;
    }
    .user-info {
      margin-right: 20px;
      font-size: 14px;
    }
    .menu {
      display: flex;
      justify-content: center;
      padding: 10px;
      background-color: #edf0f3;
      flex-wrap: wrap;
    }
    .menu-item {
      text-align: center;
      margin: 10px;
      position: relative;
    }
    .menu-item a {
      font-size: 14px;
      display: block;
      padding: 10px 15px;
      background-color: #ffffff;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-shadow: 1px 1px 5px rgba(0,0,0,0.1);
      text-decoration: none;
      color: black;
      transition: background-color 0.3s;
    }
    .menu-item a:hover {
      background-color: #f0f0f0;
    }
    .badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: red;
      color: white;
      font-size: 10px;
      padding: 2px 5px;
      border-radius: 50%;
    }
    .content {
      padding: 20px;
    }
    .lesson-box {
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    .lesson-box h2 {
      color: #333;
      margin-top: 0;
    }
    .lesson-box label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    .lesson-box input,
    .lesson-box textarea,
    .lesson-box select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }
    .lesson-box button {
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #8a2e6e;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .lesson-box button:hover {
      background-color: #732558;
    }
    .dzial-option {
      background-color: #000;
      color: #fff;
      font-weight: bold;
    }
    #historia-lekcji {
      max-width: 600px;
      margin: 20px auto;
      background: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      list-style-type: none;
      font-size: 14px;
    }
    #historia-lekcji li {
      border-bottom: 1px solid #ddd;
      padding: 8px 0;
    }
    #historia-lekcji li:last-child {
      border-bottom: none;
    }
  </style>
  <script>
    const tematy = {
      "6A": ["Kolory i pomieszczenia", "Alfabet i znaki piotrowskie", "Liczby","Daty", "Gramatyka piotrowska","Past simple - Wprowadzenie","Past simple - Ogólność i Upodobania","Past simple - Regularność i czas","Past simple - Osobowość i jej opis",  "Zaimki osobowe - Wprowadzenie","Present Simple - Wprowadzenie"],
      "6B": ["Alfabet","Pomieszczenia","Liczby","Daty","Kolory", "Past simple - Wprowadzenie","Past simple - Upodobania","Past simple - Regularność","Past simple - Osobowość", "Zaimki osobowe", "Powtórzenie","Sprawdzian", "Omówienie sprawdzianu"],
      "6C": ["Alfabet","Pomieszczenia","Liczby","Daty","Kolory", "Past simple - Wprowadzenie","Past simple - Upodobania","Past simple - Regularność","Past simple - Osobowość", "Zaimki osobowe", "Powtórzenie","Sprawdzian", "Omówienie sprawdzianu"],
      "7D": ["DZIAŁ 1 - CZŁOWIEK","Cechy charakteru","Ubrania","Wygląd zewnętrzny","Etapy życia","Przedmioty osobiste","Past simple","Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)","DZIAŁ 2 - ZDROWIE","Choroby i bóle","Present simple","Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)","DZIAŁ 3 - ŻYCIE PRYWATNE", "Rodzina i znajomi", "Czas wolny i święta", "Past simple i Present simple - Porównanie", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)","DZIAŁ 4 - ŚWIAT I PRZYRODA", "Kraje i kontynenty","Przyroda i zwierzęta", "Zegary, Czas i ich odczytywanie","Present Cintus", "Powtórzenie wiadomości (4)","Sprawdzian (4)","Omówienie sprawdzianu (4)"],
      "7E": ["DZIAŁ 1 - CZŁOWIEK","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)", "DZIAŁ 2 - ZDROWIE","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)", "DZIAŁ 3 - ŻYCIE PRYWATNE","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)", "DZIAŁ 4 - ŚWIAT I PRZYRODA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (4)","Sprawdzian (4)","Omówienie sprawdzianu (4)"],
      "8F": ["DZIAŁ 1 - MIEJSCE ZAMIESZKANIA","Rodzaje miejsc zamieszkania","Meble","Na zewnątrz","Określenia domów i pomieszczenia","Present simple","Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)","DZIAŁ 2 - EDUKACJA","Przedmioty fizyczne","Przedmioty lekcyjne","Pracownicy i pomieszczenia w szkole","Czasowniki szkolne","Present hadsing","Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)","DZIAŁ 3 - PRACA", "Zawody", "Odmiana zawodów przez osoby","Miejsca prac","Present past","Zaimki osobowe", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)"],
      "8G": ["DZIAŁ 1 - MIEJSCE ZAMIESZKANIA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (1)","Sprawdzian (1)","Omówienie sprawdzianu (1)", "DZIAŁ 2 - EDUKACJA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (2)","Sprawdzian (2)","Omówienie sprawdzianu (2)", "DZIAŁ 3 - PRACA","Vocabulary", "Gramar", "Buking i writing", "Powtórzenie wiadomości (3)","Sprawdzian (3)","Omówienie sprawdzianu (3)"]
    };

    function updateTematy() {
      const klasa = document.getElementById("klasa").value;
      const tematSelect = document.getElementById("temat-select");
      tematSelect.innerHTML = "";
      if (tematy[klasa]) {
        tematy[klasa].forEach(temat => {
          const option = document.createElement("option");
          option.textContent = temat;
          option.value = temat;
          if (temat.startsWith("DZIAŁ")) {
            option.classList.add("dzial-option");
          }
          tematSelect.appendChild(option);
        });
      } else {
        const option = document.createElement("option");
        option.textContent = "Brak tematów";
        option.disabled = true;
        tematSelect.appendChild(option);
      }
    }

    function zapiszLekcje() {
      const data = document.getElementById("data").value;
      const klasa = document.getElementById("klasa").value;
      const przedmiot = document.getElementById("przedmiot").value;
      const temat = document.getElementById("temat-select").value;
      const opis = document.getElementById("opis").value.trim();

      if (!data || !klasa || !przedmiot || !temat) {
        alert("Proszę uzupełnić wszystkie pola.");
        return;
      }

      const nowaLekcja = { data, klasa, przedmiot, temat, opis };
      const klucz = `lekcje_${klasa}`;
      let lekcje = JSON.parse(localStorage.getItem(klucz)) || [];
      lekcje.push(nowaLekcja);
      localStorage.setItem(klucz, JSON.stringify(lekcje));
      alert("Lekcja zapisana!");
      pokazHistorieLekcji(klasa);
    }

    function pokazHistorieLekcji(klasa) {
      const lista = document.getElementById("historia-lekcji");
      lista.innerHTML = "";

      const klucz = `lekcje_${klasa}`;
      const lekcje = JSON.parse(localStorage.getItem(klucz)) || [];

      if (lekcje.length === 0) {
        lista.innerHTML = "<li>Brak zapisanych lekcji dla tej klasy.</li>";
        return;
      }

      lekcje.forEach(lekcja => {
        const li = document.createElement("li");
        li.innerHTML = `<strong>Data:</strong> ${lekcja.data} | <strong>Przedmiot:</strong> ${lekcja.przedmiot} | <strong>Temat:</strong> ${lekcja.temat}<br><em>Opis:</em> ${lekcja.opis || "<i>Brak opisu</i>"}`;
        lista.appendChild(li);
      });
    }

    window.addEventListener("DOMContentLoaded", () => {
      const klasaSelect = document.getElementById("klasa");
      klasaSelect.addEventListener("change", () => {
        updateTematy();
        pokazHistorieLekcji(klasaSelect.value);
      });

      document.querySelector(".lesson-box button").addEventListener("click", zapiszLekcje);

      updateTematy();
      pokazHistorieLekcji(klasaSelect.value);
    });
  </script>
</head>
<body>
  <div class="header">
  <div class="logo">
    <img src="21 maj 2025, 16_13_32.png" alt="P-Librus logo">
    <span>P-Librus</span>
  </div>
  <div class="user-info">
    Jesteś zalogowany jako: <strong>Piotr Rejmentowski (nauczyciel)</strong>
  </div>
  <select>
    <option selected>polski</option>
    <option>english</option>
  </select>
</div>

<div class="menu">
  <div class="menu-item">
    <a href="indywidualni.html">Indywidualni</a>
  </div>
  <div class="menu-item">
    <a href="Lekcja.html">Lekcja</a>
  </div>
  <div class="menu-item">
    <a href="oceny.html">Oceny</a>
    <div class="badge">5</div>
  </div>
  <div class="menu-item">
    <a href="frekwencja.html">Frekwencja</a>
    <div class="badge">3</div>
  </div>
  <div class="menu-item">
    <a href="wiadomosci.html">Wiadomości</a>
  </div>
  <div class="menu-item">
    <a href="ogloszenia.html">Ogłoszenia</a>
    <div class="badge">1</div>
  </div>
  <div class="menu-item">
    <a href="terminarz.html">Terminarz</a>
    <div class="badge">6</div>
  </div>
</div>

  <div class="content">
    <div class="lesson-box">
      <h2>Nowa lekcja</h2>

      <label for="data">Data lekcji:</label>
      <input type="date" id="data" />

      <label for="klasa">Wybierz klasę:</label>
      <select id="klasa">
        <option>6A</option>
        <option>6B</option>
        <option>6C</option>
        <option>7D</option>
        <option>7E</option>
        <option>8F</option>
        <option>8G</option>
      </select>

      <label for="przedmiot">Przedmiot:</label>
      <select id="przedmiot">
        <option>Biologia</option>
        <option>Język Piotrowski</option>
      </select>

      <label for="temat-select">Temat lekcji:</label>
      <select id="temat-select">
        <option disabled selected>Wybierz klasę, aby zobaczyć tematy</option>
      </select>

      <label for="opis">Opis:</label>
      <textarea id="opis" rows="4" placeholder="Wpisz krótki opis lekcji..."></textarea>

      <button>Zapisz lekcję</button>
    </div>

    <ul id="historia-lekcji"></ul>
  </div>
</body>
</html>